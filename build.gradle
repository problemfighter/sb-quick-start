buildscript {
	repositories {
		mavenLocal()
		mavenCentral()
		jcenter()
		maven { url "https://dl.bintray.com/hmtmcse/maven/" }
		maven { url "https://repo.maven.apache.org/maven2/" }
	}
	dependencies {
		classpath 'org.ajoberstar.grgit:grgit-core:3.1.1'
	}
}

//plugins {
//	id 'org.springframework.boot' version '2.3.1.RELEASE'
//	id 'io.spring.dependency-management' version '1.0.9.RELEASE'
//}


group = 'com.hmtmcse'
version = '0.0.1'



allprojects {

	repositories {
		mavenLocal()
		mavenCentral()
		jcenter()
		maven { url "https://dl.bintray.com/hmtmcse/maven/" }
		maven { url "https://repo.maven.apache.org/maven2/" }
	}

	apply plugin: 'java'
	apply plugin: 'idea'

	sourceCompatibility = '11'
	dependencies {}
}


Boolean isSpringBootProject(String name) {
	[framework, application].each { root ->
		["module"].each { subsection ->
			File subsectionDirectory = new File(root, subsection)
			if (subsectionDirectory.exists()) {
				return subsectionDirectory.list().contains(name)
			}
		}
	}
	return false
}

subprojects { project ->
	if (isSpringBootProject(project.name)) {
		apply plugin: 'org.springframework.boot'
		apply plugin: 'io.spring.dependency-management'
		dependencies {
			implementation 'org.springframework.boot:spring-boot-starter-web'
			testImplementation('org.springframework.boot:spring-boot-starter-test') {
				exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
			}
		}
	}
}

