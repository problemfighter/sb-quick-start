buildscript {
	repositories {
		mavenLocal()
		mavenCentral()
		jcenter()
		maven { url "https://dl.bintray.com/hmtmcse/maven/" }
		maven { url "https://repo.maven.apache.org/maven2/" }
	}
	dependencies {
		classpath 'org.ajoberstar.grgit:grgit-core:3.1.1'
	}
}


group = 'com.hmtmcse'
version = '0.0.1'



allprojects {

	repositories {
		mavenLocal()
		mavenCentral()
		jcenter()
		maven { url "https://dl.bintray.com/hmtmcse/maven/" }
		maven { url "https://repo.maven.apache.org/maven2/" }
	}

	apply plugin: 'java'
	apply plugin: 'idea'

	sourceCompatibility = '11'

	dependencies {}

}

Boolean isSpringBootProject(String name) {
	[framework, application].each { root ->
		["module"].each { subsection ->
			File subsectionDirectory = new File(root, subsection)
			if (subsectionDirectory.exists()) {
				return subsectionDirectory.list().contains(name)
			}
		}
	}
	return false
}

subprojects { project ->
	dependencies {
		if (isSpringBootProject(project.name)){
			implementation 'org.springframework.boot:spring-boot-starter-web'
			testImplementation('org.springframework.boot:spring-boot-starter-test') {
				exclude group: 'org.junit.vintage', module: 'junit-vintage-engine'
			}
		}
	}
}

